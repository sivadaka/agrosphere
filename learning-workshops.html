<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Agricultural Learning Workshops - AgroSphere</title>
    <style>
        /* --- Base Styles (Light Mode) --- */
        body {
            font-family: Arial, sans-serif; margin: 0; padding: 0; background-color: #f9f9f9; color: #333; line-height: 1.6; text-align: center; transition: background-color 0.3s ease, color 0.3s ease;
        }
        header { background-color: #FFC107; color: white; padding: 20px; margin-bottom: 30px; transition: background-color 0.3s ease; }
        .header-content { max-width: 960px; margin: 0 auto; display: flex; justify-content: space-between; align-items: center; flex-wrap: wrap; }
        header h1 { margin: 0; font-size: 2.2em; font-weight: bold; text-align: left; flex-grow: 1; }
        .header-controls { display: flex; align-items: center; gap: 15px; }
        .back-link { color: white !important; text-decoration: none; font-size: 1em; font-weight: bold; padding: 10px 15px; background-color: rgba(0, 0, 0, 0.1); border-radius: 5px; transition: background-color 0.3s ease, color 0.3s ease; }
        .back-link:hover { background-color: rgba(0, 0, 0, 0.2); }
        #darkModeToggle { background: none; border: none; color: white; cursor: pointer; padding: 5px; font-size: 1.5em; line-height: 1; outline: none; }
        #darkModeToggle svg { display: block; width: 24px; height: 24px; }

        section { padding: 40px 20px; max-width: 960px; margin: 0 auto 30px auto; background-color: white; border-radius: 8px; box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1); text-align: left; transition: background-color 0.3s ease, box-shadow 0.3s ease; }
        h2 { color: #FFC107; text-align: center; font-size: 2.5em; margin-top: 0; margin-bottom: 30px; transition: color 0.3s ease; }
        p { font-size: 1.1em; color: #555; line-height: 1.7; margin-bottom: 20px; transition: color 0.3s ease; }

        .workshop-highlight { background-color: #fef8e7; padding: 20px; border-left: 5px solid #FFC107; margin-bottom: 20px; border-radius: 4px; transition: background-color 0.3s ease, border-color 0.3s ease; }
        .workshop-highlight h3 { color: #333; margin-top: 0; margin-bottom: 10px; transition: color 0.3s ease; }
        .workshop-highlight p { font-size: 1em; color: #666; }

        .workshop-list { margin-top: 30px; }
        .workshop-list h3 { color: #333; margin-bottom: 15px; text-align: center; transition: color 0.3s ease; }

        .workshop-item { border: 1px solid #ddd; border-radius: 6px; padding: 20px; margin-bottom: 15px; background-color: #fff; transition: background-color 0.3s ease, border-color 0.3s ease; }
        .workshop-item h4 { color: #555; margin-top: 0; margin-bottom: 10px; transition: color 0.3s ease; }
        .workshop-item p { font-size: 0.95em; color: #777; margin-bottom: 10px; /* Adjust spacing */ }
        /* New style for the date */
        .workshop-date {
            font-size: 0.9em;
            font-weight: bold;
            color: #4CAF50; /* Green color for date */
            margin-top: 10px;
            margin-bottom: 5px;
            transition: color 0.3s ease;
        }

        .register-button { display: inline-block; padding: 12px 25px; background-color: #5cb85c; color: white !important; text-decoration: none; border-radius: 8px; font-size: 1em; font-weight: bold; margin-top: 15px; transition: background-color 0.3s ease; }
        .register-button:hover { background-color: #4cae4c; }
        .back-home-button { display: inline-block; margin-top: 30px; padding: 12px 25px; background-color: #777; color: white !important; text-decoration: none; border-radius: 8px; font-weight: bold; transition: background-color 0.3s ease; }
        .back-home-button:hover { background-color: #555; }

        footer { background-color: #333; color: white; text-align: center; padding: 20px 0; margin-top: 50px; transition: background-color 0.3s ease, color 0.3s ease; }
        footer .container { max-width: 960px; margin: 0 auto; padding: 0 20px; }
        footer p { margin: 0; font-size: 0.9em; color: #eee; }

        /* --- Dark Mode Styles --- */
        body.dark-mode { background-color: #1a1a1a; color: #f0f0f0; }
        body.dark-mode header { background-color: #b8860b; }
        body.dark-mode .back-link { color: white !important; background-color: rgba(255, 255, 255, 0.15); }
        body.dark-mode .back-link:hover { background-color: rgba(255, 255, 255, 0.25); }
        body.dark-mode section { background-color: #2c2c2c; box-shadow: 0 2px 4px rgba(0, 0, 0, 0.5); }
        body.dark-mode h2 { color: #ffd54f; }
        body.dark-mode p { color: #ccc; }
        body.dark-mode .workshop-highlight { background-color: #3a3a3a; border-color: #ffd54f; }
        body.dark-mode .workshop-highlight h3 { color: #eee; }
        body.dark-mode .workshop-highlight p { color: #bbb; }
        body.dark-mode .workshop-list h3 { color: #ddd; }
        body.dark-mode .workshop-item { background-color: #3a3a3a; border-color: #555; }
        body.dark-mode .workshop-item h4 { color: #ccc; }
        body.dark-mode .workshop-item p { color: #bbb; }
        /* Dark mode for date */
        body.dark-mode .workshop-date { color: #76c893; /* Lighter green */ }
        body.dark-mode .register-button { background-color: #4a9d4a; color: white !important; }
        body.dark-mode .register-button:hover { background-color: #3c8c3c; }
        body.dark-mode .back-home-button { background-color: #555; color: white !important; }
        body.dark-mode .back-home-button:hover { background-color: #444; }
        body.dark-mode footer { background-color: #222; }
        body.dark-mode footer p { color: #ccc; }
    </style>
</head>

<body>
    <header>
        <div class="header-content">
            <h1>Agricultural Learning Workshops</h1>
            <div class="header-controls">
                <a href="index.html" class="back-link">← Back to Homepage</a>
                <button id="darkModeToggle" aria-label="Toggle Dark Mode">
                     <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"> <circle cx="12" cy="12" r="5"></circle> <line x1="12" y1="1" x2="12" y2="3"></line> <line x1="12" y1="21" x2="12" y2="23"></line> <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line> <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line> <line x1="1" y1="12" x2="3" y2="12"></line> <line x1="21" y1="12" x2="23" y2="12"></line> <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line> <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line> </svg>
                </button>
            </div>
        </div>
    </header>
    <section>
        <h2>Empower Your Farming Journey with AgroSphere Workshops</h2>
        <p>Invest in your agricultural future by participating in AgroSphere's engaging and informative learning workshops. Designed for farmers of all levels, our workshops provide practical skills and in-depth knowledge of modern and sustainable farming techniques. Learn from experienced industry professionals and connect with fellow agricultural enthusiasts in a supportive environment.</p>
        <div class="workshop-highlight">
            <h3>What You Can Expect</h3>
            <p>Our workshops feature a blend of interactive lectures, hands-on demonstrations in relevant settings (where applicable), and collaborative learning activities. You'll gain practical insights, actionable strategies, and valuable resources that you can implement directly on your farm to improve efficiency, sustainability, and profitability.</p>
        </div>

        <div class="workshop-list">
            <h3>Upcoming Workshop Topics</h3>

            <div class="workshop-item">
                <h4>Sustainable Soil Management</h4>
                <p>Dive deep into the principles of soil health. This workshop covers essential techniques for improving soil structure, boosting organic matter content, and enhancing beneficial microbial activity. Discover the long-term benefits and practical implementation of cover cropping, conservation tillage, and no-till farming methods for healthier land and better yields.</p>
                <!-- Date placeholder -->
                <p class="workshop-date">Date: Calculating...</p>
                <a href="#" class="register-button">Register Now</a>
            </div>

            <div class="workshop-item">
                <h4>Advanced Irrigation Techniques</h4>
                <p>Master water conservation on your farm. Explore the setup and management of efficient irrigation systems like drip irrigation and micro-sprinklers. Understand advanced water management strategies, scheduling based on crop needs and weather data, and leveraging technology for optimizing water usage, reducing runoff, and minimizing waste.</p>
                 <!-- Date placeholder -->
                <p class="workshop-date">Date: Calculating...</p>
                <a href="#" class="register-button">Register Now</a>
            </div>

            <div class="workshop-item">
                <h4>Integrated Pest and Disease Management (IPM)</h4>
                <p>Learn proactive and eco-friendly approaches to controlling pests and diseases affecting your crops. This workshop focuses on IPM strategies, including biological controls (beneficial insects), cultural practices (crop rotation, resistant varieties), physical controls, and the judicious, responsible use of pesticides only when necessary.</p>
                 <!-- Date placeholder -->
                <p class="workshop-date">Date: Calculating...</p>
                <a href="#" class="register-button">Register Now</a>
            </div>

            <div class="workshop-item">
                <h4>Organic Farming Principles & Practices</h4>
                <p>Considering a transition to organic or want to refine your current practices? Delve into the core principles and detailed practices of certified organic agriculture. Topics include soil preparation and fertility management using approved inputs, natural pest and weed control methods, crop rotation design, and navigating the certification process.</p>
                 <!-- Date placeholder -->
                <p class="workshop-date">Date: Calculating...</p>
                <a href="#" class="register-button">Register Now</a>
            </div>

            <p style="text-align: center; margin-top: 20px;">More workshops covering topics like Farm Business Management, Precision Agriculture, and Livestock Health are being scheduled regularly! Check back soon for updates.</p>
        </div>

        <div style="text-align: center;">
            <a href="index.html" class="back-home-button">Back to Home</a>
        </div>
    </section>
    <footer>
        <div class="container">
            <p>© 2025 AgroSphere. All rights reserved.</p>
        </div>
    </footer>

    <!-- *** UPDATED SCRIPT *** -->
    <script>
        // --- Dark Mode Logic (Keep as is) ---
        const darkModeToggle = document.getElementById('darkModeToggle');
        const body = document.body;
        const sunIcon = `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"></circle><line x1="12" y1="1" x2="12" y2="3"></line><line x1="12" y1="21" x2="12" y2="23"></line><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line><line x1="1" y1="12" x2="3" y2="12"></line><line x1="21" y1="12" x2="23" y2="12"></line><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line></svg>`;
        const moonIcon = `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path></svg>`;

        function updateToggleButtonIcon() { /* ... (same as before) ... */
            if (body.classList.contains('dark-mode')) {
                darkModeToggle.innerHTML = moonIcon;
                darkModeToggle.setAttribute('aria-label', 'Switch to Light Mode');
            } else {
                darkModeToggle.innerHTML = sunIcon;
                darkModeToggle.setAttribute('aria-label', 'Switch to Dark Mode');
            }
        }
        function toggleDarkMode() { /* ... (same as before) ... */
            body.classList.toggle('dark-mode');
            localStorage.setItem('darkMode', body.classList.contains('dark-mode'));
            updateToggleButtonIcon();
         }
        const savedDarkMode = localStorage.getItem('darkMode');
        if (savedDarkMode === 'true') { body.classList.add('dark-mode'); }
        updateToggleButtonIcon(); // Initial icon update
        darkModeToggle.addEventListener('click', toggleDarkMode);


        // --- Workshop Date Calculation and Button Update ---
        document.addEventListener('DOMContentLoaded', () => {
            const workshopItems = document.querySelectorAll('.workshop-item');
            const dateOptions = { year: 'numeric', month: 'long', day: 'numeric' }; // Formatting for display
            const dayIncrement = 5; // Days between workshops
            let nextWorkshopDate = new Date(); // Start with today

            // Calculate date for the *very first* workshop (today + 5 days)
            nextWorkshopDate.setDate(nextWorkshopDate.getDate() + dayIncrement);

            workshopItems.forEach(item => {
                // --- 1. Display the Date ---
                const dateElement = item.querySelector('.workshop-date');
                if (dateElement) {
                    // Format the current nextWorkshopDate for display
                    const displayDate = nextWorkshopDate.toLocaleDateString('en-US', dateOptions);
                    dateElement.textContent = `Date: ${displayDate}`;
                }

                // --- 2. Update the Register Button Link ---
                const button = item.querySelector('.register-button');
                const titleElement = item.querySelector('h4');

                if (button && titleElement) {
                    const title = titleElement.textContent.trim();
                    const encodedTitle = encodeURIComponent(title);

                    // Format date as YYYY-MM-DD for the URL parameter
                    const year = nextWorkshopDate.getFullYear();
                    const month = String(nextWorkshopDate.getMonth() + 1).padStart(2, '0'); // Month is 0-indexed
                    const day = String(nextWorkshopDate.getDate()).padStart(2, '0');
                    const urlDate = `${year}-${month}-${day}`;

                    // Set the href with both workshop title and date
                    button.href = `register.html?workshop=${encodedTitle}&date=${urlDate}`;
                } else if(button) {
                     // Fallback if title isn't found (optional)
                    button.href = 'register.html?workshop=Unknown&date=N/A';
                }

                // --- 3. Calculate Date for the NEXT Workshop ---
                // Add another 5 days for the next item in the loop
                nextWorkshopDate.setDate(nextWorkshopDate.getDate() + dayIncrement);
            });
        });

    </script>
</body>
</html>